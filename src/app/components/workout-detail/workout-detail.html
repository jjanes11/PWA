<div class="jacaona-workout-detail-container">
  @if (workout(); as w) {
    <!-- Top Bar -->
    <div class="jacaona-top-bar">
      <button class="jacaona-back-btn" (click)="goBack()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"/>
        </svg>
      </button>
      <h1 class="jacaona-page-title">Workout Detail</h1>
      <button class="jacaona-menu-btn" (click)="openMenu()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
        </svg>
      </button>
    </div>

    <!-- Main Content -->
    <div class="jacaona-main-content">
      <!-- Workout Title -->
      <h2 class="jacaona-workout-title">{{ w.name }}</h2>
      @if (w.notes) {
        <p class="jacaona-workout-description">{{ w.notes }}</p>
      }
      
      <!-- Workout Stats -->
      <app-workout-stats [stats]="workoutStats()" />

      <!-- Separator -->
      <div class="jacaona-separator"></div>

      <!-- Workout Header -->
      <div class="jacaona-workout-header">
        <span class="jacaona-workout-label">Workout</span>
        <button class="jacaona-edit-btn" (click)="editWorkout()">Edit Workout</button>
      </div>

      <!-- Exercises List -->
      <div class="jacaona-exercises-list">
        @for (exercise of w.exercises; track exercise.id) {
          <app-exercise-card
            [exercise]="exercise"
            mode="view">
          </app-exercise-card>
        }
      </div>
    </div>
  } @else {
    <div class="jacaona-loading">
      <p>Loading workout...</p>
    </div>
  }

  <!-- Bottom Menu -->
  <app-bottom-menu
    [isOpen]="showMenu()"
    [items]="menuItems"
    (closed)="closeMenu()"
    (itemSelected)="handleMenuAction($event)"
  />

  <!-- Delete Confirmation Dialog -->
  <app-confirmation-dialog
    [isVisible]="showDeleteDialog()"
    [message]="'Are you sure you want to delete this workout?'"
    [confirmText]="'Delete Workout'"
    [cancelText]="'Cancel'"
    (confirmed)="confirmDelete()"
    (cancelled)="cancelDelete()"
  />
</div>
