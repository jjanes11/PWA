<div class="jacaona-workout-detail-container">
  @if (workout(); as w) {
    <!-- Top Bar -->
    <app-top-bar
      [title]="'Workout Detail'"
      [leftButton]="{ type: 'back' }"
      [rightButton]="{ type: 'menu' }"
      (leftAction)="goBack()"
      (rightAction)="openMenu()"
    />

    <!-- Main Content -->
    <div class="jacaona-main-content">
      <!-- Workout Title -->
      <h2 class="jacaona-workout-title">{{ w.name }}</h2>
      @if (w.notes) {
        <p class="jacaona-workout-description">{{ w.notes }}</p>
      }
      
      <!-- Workout Stats -->
      <app-workout-stats [stats]="workoutStats()" />

      <!-- Separator -->
      <div class="jacaona-separator"></div>

      <!-- Workout Header -->
      <div class="jacaona-workout-header">
        <span class="jacaona-workout-label">Workout</span>
        <button class="jacaona-edit-btn" (click)="editWorkout()">Edit Workout</button>
      </div>

      <!-- Exercises List -->
      <div class="jacaona-exercises-list">
        @for (exercise of w.exercises; track exercise.id) {
          <app-exercise-card
            [exercise]="exercise"
            mode="view">
          </app-exercise-card>
        }
      </div>
    </div>
  } @else {
    <div class="jacaona-loading">
      <p>Loading workout...</p>
    </div>
  }

  <!-- Bottom Menu -->
  <app-bottom-menu
    [isOpen]="showMenu()"
    [items]="menuItems"
    (closed)="closeMenu()"
    (itemSelected)="handleMenuAction($event)"
  />

  <!-- Delete Confirmation Dialog -->
  <app-confirmation-dialog
    [isVisible]="showDeleteDialog()"
    [message]="'Are you sure you want to delete this workout?'"
    [confirmText]="'Delete Workout'"
    [cancelText]="'Cancel'"
    (confirmed)="confirmDelete()"
    (cancelled)="cancelDelete()"
  />
</div>
