@if (workout(); as w) {
  <app-exercise-list-editor
    [title]="'Edit Workout'"
    [workout]="w"
    [exerciseMode]="'edit'"
    [showMenu]="true"
    [showAddSetButton]="true"
    [showCompleteColumn]="false"
    [menuItems]="menuItems"
    [enableReorder]="true"
    [draggedId]="draggedExerciseId"
    [dragOverId]="dragOverExerciseId"
    [leftButton]="headerLeftButton"
    [rightButton]="headerRightButton"
    [bottomPrimary]="bottomPrimaryButton"
    [emptyState]="emptyState"
    (leftAction)="cancel()"
    (rightAction)="saveWorkout()"
    (bottomPrimaryAction)="addExercise()"
    (exerciseAction)="onExerciseAction($event)"
    (exerciseReorder)="onExerciseReorder($event)"
  >
    <div editor-before-list class="jacaona-main-content">
      <div class="jacaona-input-section">
        <input
          type="text"
          class="jacaona-title-input"
          placeholder="Workout title"
          [(ngModel)]="workoutTitle"
        />
      </div>

      <div class="jacaona-summary-section">
        <app-workout-stats [stats]="workoutStats()" />
      </div>

      <div class="jacaona-separator"></div>

      <div class="jacaona-when-section">
        <div class="jacaona-section-title">When</div>
        <div class="jacaona-when-value">{{ workoutDateTime() }}</div>
      </div>

      <div class="jacaona-separator"></div>

      <div class="jacaona-description-section">
        <div class="jacaona-section-title">Description</div>
        <textarea
          class="jacaona-description-input"
          placeholder="How did your workout go? Leave some notes"
          [(ngModel)]="workoutDescription"
          rows="4"
        ></textarea>
      </div>

      <div class="jacaona-separator"></div>

      <div class="jacaona-exercises-section">
        <div class="jacaona-section-title">Exercises</div>
      </div>
    </div>
  </app-exercise-list-editor>
} @else {
  <div class="jacaona-loading">
    <p>Loading workout...</p>
  </div>
}

@if (showSetTypeMenu() && selectedSet(); as setInfo) {
  <app-set-type-menu
    [workout]="workout()!"
    [exerciseId]="setInfo.exerciseId"
    [setId]="setInfo.setId"
    (workoutUpdated)="onWorkoutUpdated($event)"
    (closed)="closeSetTypeMenu()"
  ></app-set-type-menu>
}
