<div class="jacaona-dashboard">
  <!-- Header -->
  <header class="jacaona-dashboard-header">
    <div class="jacaona-header-content">
      <div class="jacaona-greeting">
        <h1 class="jacaona-text-2xl">Good {{ timeOfDay() }}</h1>
        <p class="jacaona-text-secondary jacaona-text-sm">Ready to crush your workout?</p>
      </div>
    </div>
  </header>

  <!-- Quick Stats -->
  <section class="jacaona-stats-grid">
    <app-stat-card
      [value]="totalWorkouts()"
      [label]="'Workouts'"
      [color]="'blue'"
      [iconPath]="'M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z'"
    />

    <app-stat-card
      [value]="totalVolume()"
      [label]="'Volume'"
      [unit]="'kg'"
      [color]="'green'"
      [iconPath]="'M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zm2.5-9H19v2h-1.5v16.5c0 1.33-1.17 2.5-2.5 2.5H9c-1.33 0-2.5-1.17-2.5-2.5V4H5V2h3.5l1-1h5l1 1H19z'"
    />

    <app-stat-card
      [value]="currentStreak()"
      [label]="'Day Streak'"
      [color]="'yellow'"
      [iconPath]="'M7.5 11L10 7.5 12.5 11 15 7.5 17.5 11H19c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h2.5z'"
    />

    <app-stat-card
      [value]="avgWorkoutTime()"
      [label]="'Avg Time'"
      [unit]="'min'"
      [color]="'red'"
      [iconPath]="'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z'"
    />
  </section>

  <!-- Recent Workouts -->
  <section class="jacaona-recent-workouts">
    <div class="jacaona-section-header">
      <h2 class="jacaona-section-title">Recent Workouts</h2>
    </div>

    @if (recentWorkouts().length > 0) {
      <div class="jacaona-workout-list">
        @for (workout of recentWorkouts(); track workout.id) {
          <app-workout-card
            [workout]="workout"
            [formattedDate]="formatWorkoutDate(workout.date)"
            [duration]="calculateWorkoutDuration(workout)"
            [menuItems]="menuItems"
            (cardClick)="navigateToWorkout(workout.id)"
            (menuAction)="handleMenuAction(workout.id, $event)"
          />
        }
      </div>
    } @else {
      <div class="jacaona-empty-state">
        <div class="jacaona-empty-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"/>
          </svg>
        </div>
        <h3>No workouts yet</h3>
        <p class="jacaona-text-secondary">Start your first workout to see it here</p>
        <button class="jacaona-btn jacaona-btn--primary" routerLink="/workout/new">
          Start First Workout
        </button>
      </div>
    }
  </section>

  <!-- Delete Confirmation Dialog -->
  <app-confirmation-dialog
    [isVisible]="showDeleteDialog()"
    [message]="'Are you sure you want to delete this workout?'"
    [confirmText]="'Delete Workout'"
    [cancelText]="'Cancel'"
    (confirmed)="confirmDelete()"
    (cancelled)="cancelDelete()"
  />
</div>

